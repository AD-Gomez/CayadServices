---
import {
  FaInstagram,
  FaFacebookF,
  FaReddit,
  FaLinkedinIn,
  FaYoutube,
} from "react-icons/fa";
import { FaXTwitter } from "react-icons/fa6";

interface Props {
  minimal?: boolean;
}

const { minimal = false } = Astro.props;

// --- AÑO DINÁMICO APLICADO AQUÍ ---
const currentYear = new Date().getFullYear();
---

<style>
  /* Fallback/responsive grid for footer to ensure columns display even if Tailwind utilities aren't active */
  .footer-grid { display: grid; grid-template-columns: 1fr; gap: 0.5rem; }
  @media (min-width: 600px) and (max-width: 767px) {
    .footer-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  }
  @media (min-width: 768px) and (max-width: 1223px) {
    .footer-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  }
  @media (min-width: 1024px) {
    .footer-grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  }

  /* Bottom bar fallback: row on md+ */
  .footer-bottom { display: flex; flex-direction: column; gap: 0.25rem; align-items: center; text-align: center; }
  @media (min-width: 768px) {
    .footer-bottom { flex-direction: row; justify-content: space-between; text-align: left; }
  }

  /* XS two-column for CTAs */
  .cta-grid { display: grid; grid-template-columns: 1fr; gap: 0.5rem; }
  @media (min-width: 200px) and (max-width: 600px) {
    .footer-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .cta-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  }

  /* Dynamic minimal mode (toggled via JavaScript) */
  footer.footer-minimal-mode [data-footer-section="services"],
  footer.footer-minimal-mode [data-footer-section="quick-links"],
  footer.footer-minimal-mode [data-footer-section="contact-cta"],
  footer.footer-minimal-mode [data-footer-section="social-icons"],
  footer.footer-minimal-mode [data-footer-section="bottom-links"],
  footer.footer-minimal-mode [data-footer-section="address"] h4,
  footer.footer-minimal-mode [data-footer-phone] {
    display: none !important;
  }

  /* In minimal mode, make footer very compact - single row */
  footer.footer-minimal-mode {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  footer.footer-minimal-mode > div:first-child {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  footer.footer-minimal-mode .footer-grid {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 1rem 2rem;
    max-width: none;
  }

  footer.footer-minimal-mode [data-footer-section="address"] {
    flex-direction: row !important;
    align-items: center;
    gap: 1.5rem;
    font-size: 0.875rem;
  }

  footer.footer-minimal-mode [data-footer-section="address"] > div {
    margin-top: 0 !important;
  }

  footer.footer-minimal-mode [data-footer-section="badges"] {
    flex-direction: row !important;
    align-items: center;
    gap: 1.5rem;
    margin-top: 0 !important;
  }

  footer.footer-minimal-mode [data-footer-section="badges"] .AuthorizeNetSeal {
    transform: scale(0.85);
  }

  /* Hide the bottom bar border in minimal mode */
  footer.footer-minimal-mode .border-t {
    border-top: none !important;
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
  }

  footer.footer-minimal-mode .footer-bottom,
  footer.footer-minimal-mode .border-t > div {
    flex-direction: row !important;
    gap: 0.5rem 1rem;
    font-size: 0.75rem;
  }

  /* Smooth transition for footer sections */
  [data-footer-section] {
    transition: opacity 0.3s ease, transform 0.3s ease;
  }
</style>

<footer class:list={["relative bg-bg-footer text-light", minimal && "footer-minimal-mode"]}>
  <div class="pointer-events-none absolute inset-0 opacity-20" aria-hidden="true"></div>

  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6">
  <div class:list={[
    "footer-grid grid gap-6",
    minimal ? "grid-cols-1 max-w-md mx-auto" : "grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4"
  ]}>
      <div class="flex flex-col gap-4 min-w-0" data-footer-section="address">
        <h4 class="text-lg font-bold font-heading track-wide">Address</h4>

        <div class="flex items-start gap-3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 flex-none mt-0.5">
            <path fill-rule="evenodd" d="m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" clip-rule="evenodd"></path>
          </svg>
          <p class="text-base">7901 4th St, N #31152, St. Petersburg, FL 33702</p>
        </div>

        <div class="flex items-start gap-3" data-footer-phone>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 flex-none mt-0.5">
            <path fill-rule="evenodd" d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z" clip-rule="evenodd"></path>
          </svg>
          <span class="text-white">(469) 619-0747</span>
        </div>

        {!minimal && (
        <div class="mt-4 flex flex-wrap items-center gap-3" data-footer-section="social-icons">
          <a
            class="group inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all duration-300 ease-out hover:bg-white hover:text-btn-blue hover:scale-110 shadow-sm"
            href="https://www.facebook.com/cayadservices" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
            <FaFacebookF className="h-4 w-4" />
            <span class="sr-only">Facebook</span>
          </a>
          <a
            class="group inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all duration-300 ease-out hover:bg-white hover:text-pink-600 hover:scale-110 shadow-sm"
            href="https://www.instagram.com/cayadservices" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
            <FaInstagram className="h-4 w-4" />
            <span class="sr-only">Instagram</span>
          </a>
          <a
            class="group inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all duration-300 ease-out hover:bg-white hover:text-black hover:scale-110 shadow-sm"
            href="https://www.twitter.com/cayadservices" target="_blank" rel="noopener noreferrer" aria-label="X / Twitter">
            <FaXTwitter className="h-4 w-4" />
            <span class="sr-only">Twitter</span>
          </a>
          <a
            class="group inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all duration-300 ease-out hover:bg-white hover:text-blue-700 hover:scale-110 shadow-sm"
            href="https://www.linkedin.com/company/cayad-auto-transport/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
            <FaLinkedinIn className="h-4 w-4" />
            <span class="sr-only">LinkedIn</span>
          </a>
          <a
            class="group inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all duration-300 ease-out hover:bg-white hover:text-red-600 hover:scale-110 shadow-sm"
            href="https://www.youtube.com/@cayadservices" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
            <FaYoutube className="h-4 w-4" />
            <span class="sr-only">YouTube</span>
          </a>
          <a
            class="group inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all duration-300 ease-out hover:bg-white hover:text-orange-500 hover:scale-110 shadow-sm"
            href="https://www.reddit.com/user/cayadservices" target="_blank" rel="noopener noreferrer" aria-label="Reddit">
            <FaReddit className="h-4 w-4" />
            <span class="sr-only">Reddit</span>
          </a>
        </div>
        )}
      </div>

      {/* Services - hidden in minimal mode */}
      {!minimal && (
  <div class="flex flex-col gap-4 min-w-0" data-footer-section="services">
        <h4 class="text-lg font-bold font-heading track-wide">Services</h4>
        <ul class="space-y-3">
          <li class="group flex items-center gap-3">
            <div class="h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-white transition-colors"></div>
            <a class="block text-slate-300 capitalize hover:text-white hover:translate-x-1 transition-all duration-300" href="/how-auto-transport-works/">How to ship a car</a>
          </li>
          <li class="group flex items-center gap-3">
            <div class="h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-white transition-colors"></div>
            <a class="block text-slate-300 capitalize hover:text-white hover:translate-x-1 transition-all duration-300" href="/for-individuals/ship-car-to-another-state/">Ship to another state</a>
          </li>
          <li class="group flex items-center gap-3">
             <div class="h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-white transition-colors"></div>
            <a class="block text-slate-300 capitalize hover:text-white hover:translate-x-1 transition-all duration-300" href="/for-individuals/enclosed-auto-transport/">Enclosed car transport</a>
          </li>
          <li class="group flex items-center gap-3">
             <div class="h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-white transition-colors"></div>
            <a class="block text-slate-300 capitalize hover:text-white hover:translate-x-1 transition-all duration-300" href="/how-auto-transport-works/how-much-does-it-cost-ship-car/">Car shipping cost</a>
          </li>
          <li class="group flex items-center gap-3">
             <div class="h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-white transition-colors"></div>
            <a class="block text-slate-300 capitalize hover:text-white hover:translate-x-1 transition-all duration-300" href="/how-auto-transport-works/ship-car-across-country/">Cross country shipping</a>
          </li>
          <li class="group flex items-center gap-3">
             <div class="h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-white transition-colors"></div>
            <a class="block text-slate-300 capitalize hover:text-white hover:translate-x-1 transition-all duration-300" href="/for-individuals/classic-cars-auto-transport/">Classic cars</a>
          </li>
        </ul>
      </div>
      )}

      {/* Quick Links - hidden in minimal mode */}
      {!minimal && (
  <div class="flex flex-col gap-4 min-w-0" data-footer-section="quick-links">
  <h4 class="text-lg font-bold font-heading track-wide">Quick Links</h4>
        <ul class="space-y-3">
          <li class="group flex items-center gap-3">
            <div class="h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-white transition-colors"></div>
            <a class="block text-slate-300 capitalize hover:text-white hover:translate-x-1 transition-all duration-300" href="/contact/">Contact us</a>
          </li>
          <li class="group flex items-center gap-3">
            <div class="h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-white transition-colors"></div>
            <a class="block text-slate-300 capitalize hover:text-white hover:translate-x-1 transition-all duration-300" href="/faqs/">Faqs</a>
          </li>
          <li class="group flex items-center gap-3">
            <div class="h-1.5 w-1.5 rounded-full bg-blue-400 group-hover:bg-white transition-colors"></div>
            <a class="block text-slate-300 capitalize hover:text-white hover:translate-x-1 transition-all duration-300" href="/why-us/reviews/">Reviews</a>
          </li>
        </ul>
      </div>
      )}

      {/* CTA / Compliance - show only USDOT in minimal mode */}
      {!minimal ? (
  <div class="flex flex-col min-w-0">
        <div data-footer-section="contact-cta">
          <h4 class="text-lg font-bold font-heading track-wide">Contact us</h4>
          <div class="cta-grid mt-2 grid w-full gap-2 xs:grid-cols-2 sm:grid-cols-2">
            <a
              href="/quote/index.html"
              class="inline-flex items-center justify-center rounded-lg bg-btn-blue px-4 py-2 text-sm font-medium text-white shadow transition-colors hover:bg-btn-hover focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-btn-blue"
            >
              Get a Quote
            </a>
            <a
              href="tel:+14696190747"
              class="inline-flex items-center justify-center rounded-lg border border-white/60 bg-transparent px-4 py-2 text-sm font-medium text-white shadow transition-colors hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-btn-blue"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-4 w-4" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z" clip-rule="evenodd"></path></svg>
              Call Now
            </a>
          </div>
        </div>

        <div class="flex flex-wrap items-center gap-4 mt-3" data-footer-section="badges">
          <div class="flex items-center gap-3 text-sm">
            <img src="/img/part6.webp" width="36" height="36" alt="car shipping fmcsa logo" class="h-7 w-7" />
            <p class="text-sm">USDOT: 4091368 <br />MC: 1558686</p>
          </div>

          <div class="AuthorizeNetSeal">
            <script type="text/javascript">var ANS_customer_id = "40b07bd0-492e-41ef-af3d-203518035d55";</script>
            <script type="text/javascript" src="https://verify.authorize.net:443/anetseal/seal.js"></script>
          </div>
        </div>
      </div>
      ) : (
        <div class="flex flex-col items-center gap-4" data-footer-section="badges">
          <div class="flex items-center gap-3 text-sm">
            <img src="/img/part6.webp" width="36" height="36" alt="car shipping fmcsa logo" class="h-7 w-7" />
            <p class="text-sm">USDOT: 4091368 <br />MC: 1558686</p>
          </div>
          <div class="AuthorizeNetSeal">
            <script type="text/javascript">var ANS_customer_id = "40b07bd0-492e-41ef-af3d-203518035d55";</script>
            <script type="text/javascript" src="https://verify.authorize.net:443/anetseal/seal.js"></script>
          </div>
        </div>
      )}
  </div>

  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
  <div class="border-t border-white border-opacity-10 py-3">
  <div class="flex flex-col items-center justify-between gap-2 text-center md:flex-row lg:flex-row xl:flex-row md:text-left">
        <p class="text-light text-sm opacity-90">IN GOD WE TRUST</p>
        <div class="flex items-center text-xs sm:text-sm">
          &copy; 2023-{currentYear}
          <a class="ml-1 mr-2 border-b text-sm" href="https://www.cayadservices.com">Cayad Services LLC</a>
          <span class="mx-2">|</span>
          <p class="text-sm mb-0">All Rights Reserved</p>
        </div>
        <div class="flex flex-wrap items-center justify-center gap-x-2 gap-y-1 text-xs sm:text-sm md:text-sm" data-footer-section="bottom-links">
          <a href="/privacy-policy/" class="text-light hover:text-white transition-colors">Privacy Policy</a>
          <span class="opacity-60">|</span>
          <a href="/copyright-trademark/" class="text-light hover:text-white transition-colors">Copyright & Trademark</a>
          <span class="opacity-60">|</span>
          <a href="/pdfs/Terms-and-Conditions.pdf" download class="text-light hover:text-white transition-colors">Terms & Conditions</a>
          <span class="opacity-60">|</span>
          <a href="/pdfs/Terms-of-use.pdf" download class="text-light hover:text-white transition-colors">Terms of Use</a>
        </div>
      </div>
    </div>
  </div>
</footer>